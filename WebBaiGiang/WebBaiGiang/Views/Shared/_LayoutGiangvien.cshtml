@using System.Security.Claims
@{
    ViewData["Title"] = "Giảng viên";

    var avatar = User.FindFirst("Avatar")?.Value;
    var email = User.FindFirst(ClaimTypes.Email)?.Value;
    var name = User.FindFirst(ClaimTypes.Name)?.Value ?? "Giảng Viên";
}
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>@ViewData["Title"]</title>

    <link href="~/css/giangvien.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body class="page-body">
    <header class="header">
        <div class="left-section">
            <div class="logo">🎓 BG</div>
        </div>
        <div class="right-section">
            <div class="dropdown">
                <button class="icon-button">🔔</button>
                <div class="dropdown-content">
                    <p>Không có thông báo nào</p>
                </div>
            </div>

            <div class="dropdown">
                <button class="avatar-button">
                    @if (!string.IsNullOrEmpty(avatar))
                    {
                        <img src="@avatar" alt="Avatar" />
                    }
                    else
                    {
                        <img src="~/img/default-avatar.png" alt="Default Avatar" />
                    }
                </button>
                <div class="dropdown-content">
                    <p><strong>@name</strong></p>
                    <hr />
                    <a href="/Account/Profile">Quản lý tài khoản</a><br />
                    <a href="/Account/ChangePassword">Đổi mật khẩu</a><br />
                    <a href="#" onclick="return confirmLogout();">Đăng xuất</a>
                </div>
            </div>
        </div>
    </header>
    <div class="main-layout">
        <nav class="side-nav--primary-menu--gihQ-">
            <ul class="ud-unstyled-list side-nav--menu--kRZ7l">
                <li>
                    <a href="@Url.Action("Courses", "GiangVien")">
                        <img src="~/img/video-icon.png" alt="Video Icon" class="ud-icon ud-icon-small" />
                        <span class="side-nav--title--P8jur">Khóa học</span>
                    </a>
                </li>
                <li>
                    <a href="@Url.Action("BaiGiang", "GiangVien")">
                        <img src="~/img/icon-message.png" alt="Message Icon" class="ud-icon ud-icon-small" />
                        <span class="side-nav--title--P8jur">Bài giảng</span>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <img src="~/img/icon-bar-chart.png" alt="Chart Icon" class="ud-icon ud-icon-small" />
                        <span class="side-nav--title--P8jur">Hiệu suất</span>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <img src="~/img/icon-wrench.png" alt="Tools Icon" class="ud-icon ud-icon-small" />
                        <span class="side-nav--title--P8jur">Công cụ</span>
                    </a>
                </li>
            </ul>
        </nav>
        <main class="main-content">
            @RenderBody()
        </main>

        <script>
            function confirmLogout() {
                if (confirm("Bạn có chắc chắn muốn đăng xuất không?")) {
                    window.location.href = '/Account/Logout';
                    return false;
                }
                return false;
            }
        </script>
    </div>


    @Html.Partial("~/Views/Shared/_Footer.cshtml")
    @RenderSection("Scripts", required: false)
</body>
</html>
